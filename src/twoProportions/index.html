---
layout: default
title: Two Proportions
---

<link rel="stylesheet" href="{{base}}./twoProportions.css">
<div id="two-proportions">
  <h1>Two Proportions</h1>
  <h2>1. Enter Data</h2>
  <div id="input-section" class="section">
    <div class="lhs">
      <table>
        <thead>
          <tr>
            <td></td>
            <td class="desc">Group A</td>
            <td class="desc">Group B</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="desc">Successes</td>
            <td><input type="number" id="a-success" value="0" min="0" step="1"></td>
            <td><input type="number" id="b-success" value="0" min="0" step="1"></td>
          </tr>
          <tr>
            <td class="desc">Failures</td>
            <td><input type="number" id="a-failure" value="0" min="0" step="1"></td>
            <td><input type="number" id="b-failure" value="0" min="0" step="1"></td>
          </tr>
        </tbody>
      </table>
      <br>
      <button class="btn" onclick="twoProportions.loadData()">Load Data</button>
      <hr>
      <div class="stats">
        <div>
          <span>Proportion of Group A</span>
          <span summary="proportionA"></span>
        </div>
        <div>
          <span>Proportion of Group B</span>
          <span summary="proportionB"></span>
        </div>
        <div>
          <span>Difference of Proportions (A - B)</span>
          <span summary="proportionDiff"></span>
        </div>
      </div>
    </div>
    <div class="rhs">
      <table style="margin-left: 3em">
        <tr>
          <td style="text-align: right"><span summary="numAFailure"></span> Failures</td>
          <td rowspan="2" colspan="2">
            <div class="chart-wrap"><canvas id="input-bars"></canvas></div>
          </td>
          <td><span summary="numBFailure"></span> Failures</td>
        </tr>
        <tr>
          <td style="text-align: right"><span summary="numASuccess"></span> Successes</td>
          <td><span summary="numBSuccess"></span> Successes</td>
        </tr>
      </table>
    </div>
  </div>

  <h2>2. Run Simulation</h2>
  <div class="section">
    <div class="lhs">
      <label># of Simulations:
        <input id="num-simulations" type="number" min="1" value="1" max="1000" disabled="need-data"/>
      </label>
      <button class="btn" disabled="need-data" onclick="twoProportions.runSimulations()">Run Simulations</button>
      <div class="stats">
        <div>
          <span>Proportion of Sample Group A:</span>
          <span summary="sampleProportionA">No Simulations</span>
        </div>
        <div>
          <span>Proportion of Sample Group B:</span>
          <span summary="sampleProportionB">No Simulations</span>
        </div>
        <div>
          <span>Difference of Proportions:</span>
          <span summary="sampleProportionDiff">No Simulations</span>
        </div>
      </div>
    </div>
    <div class="rhs">
      <table style="margin-left: 3em">
        <tr>
          <td style="text-align: right"><span summary="sampleAFailure"></span> Failures</td>
          <td rowspan="2" colspan="2">
            <div class="chart-wrap"><canvas id="last-sim-bars"></canvas></div>
          </td>
          <td><span summary="sampleBFailure"></span> Failures</td>
        </tr>
        <tr>
          <td style="text-align: right"><span summary="sampleASuccess"></span> Successes</td>
          <td><span summary="sampleBSuccess"></span> Successes</td>
        </tr>
      </table>
    </div>
  </div>

  <h2>3. Sampling Distribution of Difference of Proportions</h2>
  <div class="section flex-row">
    <div class="lhs">
      <select id="tail-direction" disabled="need-results">
        {% include tailChartDirectionOptions.html %}
      </select>
      <span>Select all as extreme as</span>
      <input type="number" id="tail-input" value="0" step="any" disabled="need-results">
      <hr>
      <div class="stats">
        <div>
          <span>Dataset Difference of Proportions:</span>
          <span id="diff-of-data" class="stat"></span>
        </div>
        <div>
          <span>Mean of Sample Differences:</span>
          <span id="mean-sample-diffs" class="stat" summary="mean"></span>
        </div>
        <div>
          <span>(Standard Deviation):</span>
          <span id="stddev-sample-diffs" class="stat" summary="stddev"></span>
        </div>
        <br>
        <div>
          <span>Total Samples:</span>
          <span id="total-samples" class="stat" summary="total">No Data</span>
        </div>
        <div>
          <span># Selected:</span>
          <span id="chosen-count" class="stat" summary="chosen">No Data</span>
        </div>
        <div>
          <span>Proportion Selected:</span>
          <span id="proportion" class="stat" summary="proportion">No Data</span>
        </div>
      </div>
    </div>
    <div class="rhs">
      <div class="chart-wrap"><canvas id="tail-chart"></canvas></div>
    </div>
  </div>
</div>

<script src="{{base}}../lib/Chart.bundle.min.js"></script>
<script type="module">
  import {TwoProportions} from '{{base}}./twoProportions.js';
  window.twoProportions = new TwoProportions(document.getElementById('two-proportions'));
</script>

